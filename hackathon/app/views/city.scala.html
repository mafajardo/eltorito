@(cityName: String, temp: String, weather: String, weatherImg: String, cityCode : String, hearstItems:List[HearstItem])

@import controllers._
@import models._
@import helper._

@main("Your " + cityName + " Experience") {

<style>
#container {
  background: #FFF;
  padding: 5px;
  margin-bottom: 20px;
  border-radius: 5px;
  clear: both;
  -webkit-border-radius: 5px;
     -moz-border-radius: 5px;
          border-radius: 5px;
}

.box {
  overflow: hidden;
  position: relative;
  margin: 5px;
  padding: 5px;
  background: #D8D5D2;
  font-size: 11px;
  line-height: 1.4em;
  float: left;
  -webkit-border-radius: 5px;
     -moz-border-radius: 5px;
          border-radius: 5px;
          width: 200px;
          max-width: 200px;

}

.box img {
  max-width: 200px;
}

.item-overlay {
  position:absolute;
}

.social-bar {
  width: 180px;
  /*top: 20px;*/
  height: 50px;
  padding: 0 10px;
}

.social-bar img {
  opacity:0.8;
  filter:alpha(opacity=80); /* For IE8 and earlier */
}

.slider {
  opacity:0.5;
  filter:alpha(opacity=50); /* For IE8 and earlier */

  background-color: #333;
  color:white;

  width: 190px;
  bottom: -40px;
  height:60px;
  padding: 5px;
}

.slider .title {
  font-size: 1.5em;
  font-weight: bold;
  height: 25px;
}

</style>

<div class="row-fluid">
  <div class="span14">
      <div class="span5 offset1">
        <img width="380" height="220" src="@routes.Assets.at("images/"+cityCode+".png")"/>
      </div>

      <div class="weather-items">
        <div class="span2 weather-img">
          <img src="@routes.Assets.at("images/"+weatherImg+".png")"/>
        </div>

        <div class="span2">
          <h2>
            @temp &deg;F
          </h2>
          <h4>
            @weather
          <h4>
        </div>
      </div>

  </div>
</div>

<div class="row-fluid">
  <ul class="nav nav-list">
    <h3><center>Shop styles based on Hearst articles.</center></h3>
    <li class="divider"></li>
  </ul>
</div>

<div id="container">
  @for(item <- hearstItems) {
    <div class="box">
      <!-- Button to trigger modal -->
      <a href="#@item.getId()" role="button" data-toggle="modal">
        <img src=@item.getDefaultUrl() alt=""/>

        <div class="social-bar item-overlay">
          <a href="http://facebook.com">
            <img style="float:left;" src="@routes.Assets.at("images/facebook.png")">
          </a>
          <img style="float:right;" src="@routes.Assets.at("images/twitter.png")">
        </div>
        <div class="slider item-overlay">
          <div class="title">
            My Product
          </div>
          <div class="desc">
            my description
          </div>
        </div>
      </a>

      <!-- Modal -->
      <div id="@item.getId()" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
          <h3 id="myModalLabel">Suggested Products</h3>
          featured by <a href="www.gilt.com">gilt</a>
        </div>
        <div class="modal-body">
          <ul class="thumbnails">
          @if(item.giltProducts.size>0) {
            @for(product <- item.giltProducts) {
                <div class="span4">
                  <a href="@product.buyUrl"><img src="@product.imageUrl"/></a>
                </div>
              }
          }else{
            <div class="span8">
               <p>
                  No products found.
               </p>
            </div>
           }
          </ul>
        </div>
      </div>

    </div>
  }
</div>

  <script>
    $(function(){
      var $container = $('#container');

      $container.imagesLoaded( function(){
        $container.masonry({
          itemSelector : '.box'
        });
      });
    });

    // /* SLIDER */
    $(document).ready(function(){
      $(".box").hover(function(){
        var slider = $(".slider",$(this));
        slider.show().animate({"bottom":"0"});

        var bar = $(".social-bar",$(this));
        bar.show().animate({"top":"20px"});

      },
      function(){
        var slider = $(".slider",$(this));
        slider.animate(
          {"bottom":"-40px",

          }
        );

        var bar = $(".social-bar",$(this));
        bar.show().animate({"top":"-50px"});
      });
    });
  </script>
}

